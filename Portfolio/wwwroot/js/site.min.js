function Sparkle(n,t){this.options=t;this.init(n)}$(function(){$(".sparkley:first").sparkleh();$("h2").sparkleh({count:80,color:["#ff0080","#ff0080","#0000FF","#FFFFFF"],overlap:10})});$.fn.sparkleh=function(n){return this.each(function(t,i){var r=$(i).css("position","relative"),f=$.extend({width:r.outerWidth(),height:r.outerHeight(),color:"#FFFFFF",count:30,overlap:0,speed:1},n),u=new Sparkle(r,f);r.on({"mouseover focus":function(){u.over()},"mouseout blur":function(){u.out()}})})};Sparkle.prototype={init:function(n){var t=this;this.$canvas=$("<canvas>").addClass("sparkle-canvas").css({position:"absolute",top:"-"+t.options.overlap+"px",left:"-"+t.options.overlap+"px","pointer-events":"none"}).appendTo(n);this.canvas=this.$canvas[0];this.context=this.canvas.getContext("2d");this.sprite=new Image;this.sprites=[0,6,13,20];this.sprite.src=this.datauri;this.canvas.width=this.options.width+this.options.overlap*2;this.canvas.height=this.options.height+this.options.overlap*2;this.particles=this.createSparkles(this.canvas.width,this.canvas.height);this.anim=null;this.fade=!1},createSparkles:function(n,t){for(var i,u=[],r=0;r<this.options.count;r++)i=this.options.color,this.options.color==="rainbow"?i="#"+("000000"+Math.floor(Math.random()*16777215).toString(16)).slice(-6):$.type(this.options.color)==="array"&&(i=this.options.color[Math.floor(Math.random()*this.options.color.length)]),u[r]={position:{x:Math.floor(Math.random()*n),y:Math.floor(Math.random()*t)},style:this.sprites[Math.floor(Math.random()*4)],delta:{x:Math.floor(Math.random()*1e3)-500,y:Math.floor(Math.random()*1e3)-500},size:parseFloat((Math.random()*2).toFixed(2)),color:i};return u},draw:function(n){var t=this.context,r,i,u;for(t.clearRect(0,0,this.canvas.width,this.canvas.height),r=0;r<this.options.count;r++)i=this.particles[r],u=Math.floor(Math.random()*7),Math.floor(n)%u==0&&(i.style=this.sprites[Math.floor(Math.random()*4)]),t.save(),t.globalAlpha=i.opacity,t.drawImage(this.sprite,i.style,0,7,7,i.position.x,i.position.y,7,7),this.options.color&&(t.globalCompositeOperation="source-atop",t.globalAlpha=.5,t.fillStyle=i.color,t.fillRect(i.position.x,i.position.y,7,7)),t.restore()},update:function(){var n=this;this.anim=window.requestAnimationFrame(function(t){for(var r=0;r<n.options.count;r++){var i=n.particles[r],u=Math.random()>Math.random()*2,f=Math.random()>Math.random()*3;u&&(i.position.x+=i.delta.x*n.options.speed/1500);f||(i.position.y-=i.delta.y*n.options.speed/800);i.position.x>n.canvas.width?i.position.x=-7:i.position.x<-7&&(i.position.x=n.canvas.width);i.position.y>n.canvas.height?(i.position.y=-7,i.position.x=Math.floor(Math.random()*n.canvas.width)):i.position.y<-7&&(i.position.y=n.canvas.height,i.position.x=Math.floor(Math.random()*n.canvas.width));i.opacity-=n.fade?.02:.005;i.opacity<=0&&(i.opacity=n.fade?0:1)}n.draw(t);n.fade?(n.fadeCount-=1,n.fadeCount<0?window.cancelAnimationFrame(n.anim):n.update()):n.update()})},cancel:function(){this.fadeCount=100},over:function(){window.cancelAnimationFrame(this.anim);for(var n=0;n<this.options.count;n++)this.particles[n].opacity=Math.random();this.fade=!1;this.update()},out:function(){this.fade=!0;this.cancel()},datauri:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAHCAYAAAD5wDa1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIE1hY2ludG9zaCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozNDNFMzM5REEyMkUxMUUzOEE3NEI3Q0U1QUIzMTc4NiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozNDNFMzM5RUEyMkUxMUUzOEE3NEI3Q0U1QUIzMTc4NiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjM0M0UzMzlCQTIyRTExRTM4QTc0QjdDRTVBQjMxNzg2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjM0M0UzMzlDQTIyRTExRTM4QTc0QjdDRTVBQjMxNzg2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+jzOsUQAAANhJREFUeNqsks0KhCAUhW/Sz6pFSc1AD9HL+OBFbdsVOKWLajH9EE7GFBEjOMxcUNHD8dxPBCEE/DKyLGMqraoqcd4j0ChpUmlBEGCFRBzH2dbj5JycJAn90CEpy1J2SK4apVSM4yiKonhePYwxMU2TaJrm8BpykpWmKQ3D8FbX9SOO4/tOhDEG0zRhGAZo2xaiKDLyPGeSyPM8sCxr868+WC/mvu9j13XBtm1ACME8z7AsC/R9r0fGOf+arOu6jUwS7l6tT/B+xo+aDFRo5BykHfav3/gSYAAtIdQ1IT0puAAAAABJRU5ErkJggg=="};$(document).ready(function(){$(".navbar-toggle").on("click",function(){$(this).toggleClass("active")})});